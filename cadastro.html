<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cadastro - FontesInfor IPTV</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Roboto',sans-serif;
  background: url("fundo.jpg") no-repeat center center fixed;
  background-size: cover;
  color:white;
}

/* TOPO */
.top{
  background:linear-gradient(90deg,#e50914,#f40612);
  padding:18px;
  text-align:center;
  font-size:20px;
  font-weight:bold;
  box-shadow:0 4px 10px rgba(0,0,0,0.6);
}

/* CARD VIDRO */
.card{
  max-width:420px;
  margin:40px auto;
  background: rgba(0,0,0,0.35);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.15);
  padding:30px;
  border-radius:18px;
  box-shadow:0 10px 30px rgba(0,0,0,0.6);
}

/* INPUTS */
input, select{
  width:100%;
  padding:12px;
  margin-top:12px;
  border-radius:25px;
  border:none;
  background:#2a2a2a;
  color:white;
  font-size:15px;
}

/* BOT√ïES */
button{
  width:100%;
  padding:14px;
  margin-top:15px;
  border:none;
  border-radius:30px;
  background:#e50914;
  color:white;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
  transition:0.3s;
}
button:hover{opacity:0.85}

.voltar{background:#777}
</style>
</head>

<body>

<div class="top">üìù Cadastro de Cliente</div>

<div class="card">

  <input id="usuario" placeholder="Usu√°rio (m√°x 8)" maxlength="8">
  <input id="senha" type="password" placeholder="Senha (m√°x 8)" maxlength="8">
  <input id="telefone" placeholder="Telefone / WhatsApp">

  <select id="plano">
    <option value="">Selecione o plano</option>
    <option value="Mensal|R$30,00">Mensal - R$30,00</option>
    <option value="Trimestral|R$81,00">Trimestral - R$81,00</option>
    <option value="Anual|R$252,00">Anual - R$252,00</option>
  </select>

  <button onclick="salvar()">Cadastrar</button>
  <button class="voltar" onclick="location.href='index.html'">‚¨Ö Voltar</button>

</div>

<script>
function salvar(){

  if(!usuario.value || !senha.value || !telefone.value || !plano.value){
    alert("Preencha todos os campos");
    return;
  }

  let partes = plano.value.split("|");

  let hoje = new Date();
  let validade = new Date();

  // validade padr√£o 30 dias
  validade.setDate(hoje.getDate() + 30);

  let cliente = {
    usuario: usuario.value,
    senha: senha.value,
    telefone: telefone.value,
    plano: partes[0],
    valor: partes[1],
    dataCadastro: hoje.toISOString().split("T")[0],
    validade: validade.toISOString().split("T")[0],
    pontos: 0,
    desafios: 0,
    sugestoes: [],
    duvidas: []
  };

  let lista = JSON.parse(localStorage.getItem("clientes") || "[]");

  if(lista.find(c => c.usuario === cliente.usuario)){
    alert("Usu√°rio j√° existe!");
    return;
  }

  lista.push(cliente);
  localStorage.setItem("clientes", JSON.stringify(lista));

  alert("Cadastro realizado com sucesso!");
  location.href="index.html";
}
</script>

</body>
</html>